{"version":3,"sources":["webpack:///webpack/bootstrap 8ad0ab56d5f3c7b345f0","webpack:///./frontend/ball.js","webpack:///./frontend/field.js","webpack:///./frontend/game.js","webpack:///./frontend/paddle.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;;;;;;ACrHA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,wBAAwB,aAAa;AACrC;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,+BAA+B;AAChE,iCAAiC,iCAAiC;AAClE,iCAAiC,iCAAiC;AAClE,iCAAiC,iCAAiC;AAClE,iCAAiC,iCAAiC;AAClE,iCAAiC,iCAAiC;AAClE,iCAAiC,iCAAiC;AAClE,iCAAiC,iCAAiC;AAClE,iCAAiC,iCAAiC;;AAElE;AACA;AACA;AACA;;AAEA,+BAA+B,uCAAuC;AACtE,+BAA+B,wCAAwC;AACvE,+BAA+B,yCAAyC;AACxE,+BAA+B,wCAAwC;;AAEvE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;;;;;;;;;;;;ACjPA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6DAA6D,KAAK;AAClE;AACA;AACA;AACA;;AAEA;AACA,iDAAiD,KAAK;AACtD;AACA;;AAEA,+DAA+D,KAAK;AACpE;AACA;;AAEA,gFAAgF,KAAK;AACrF;AACA;;AAEA,2EAA2E,KAAK;AAChF;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAkD,KAAK;AACvD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qDAAqD,KAAK;AAC1D;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,4DAA4D,KAAK;AACjE;AACA;AACA;;AAEA,oEAAoE,KAAK;AACzE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,WAAW,WAAW,KAAK;AACvE;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,4BAA4B,WAAW;AACvC;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC5QA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wBAAwB,2CAA2C;AACnE;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wBAAwB,2CAA2C;AACnE;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,wBAAwB,6CAA6C;AACrE;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8ad0ab56d5f3c7b345f0","const INITIAL_RADIUS = 35;\n\nclass Ball {\n\n  constructor(stage, maxDistance) {\n    this.stage = stage;\n    this.maxDistance = maxDistance;\n\n    this.shape = new createjs.Shape();\n\n    this.reset();\n  }\n\n  adjustForRadius() {\n    if (this.rawX > 400) {\n      this.shape.x -= this.radius * (this.rawX - 400)/312;\n    } else if (this.rawX < 400) {\n      this.shape.x += this.radius * (400 - this.rawX)/312;\n    }\n\n    if (this.rawY > 300) {\n      this.shape.y -= this.radius * (this.rawY - 300)/209;\n    } else if (this.rawY < 300) {\n      this.shape.y += this.radius * (300 - this.rawY)/209;\n    }\n  }\n\n  applyPerspective() {\n    const distanceFactor = this.distance / this.maxDistance;\n\n    this.shape.x = this.rawX - (this.rawX - this.farX) * distanceFactor;\n    this.shape.y = this.rawY - (this.rawY - this.farY) * distanceFactor;\n  }\n\n  applySpin() {\n    if (this.direction === \"out\"){\n      this.xVelocity -= this.xSpin / this.maxDistance;\n      this.yVelocity -= this.ySpin / this.maxDistance;\n    } else {\n      this.xVelocity += this.xSpin / this.maxDistance;\n      this.yVelocity += this.ySpin / this.maxDistance;\n    }\n  }\n\n  applyVelocity() {\n    this.rawX += this.xVelocity;\n    this.farX = (this.rawX - 400) * 79/312 + 400;\n\n    this.rawY += this.yVelocity;\n    this.farY = (this.rawY - 300) * 53/209 + 300;\n  }\n\n  draw() {\n    this.fillCommand = this.shape\n      .graphics\n      .beginRadialGradientFill([\"#EEE\",\"#444\"], [0, 1], 15, -15, 0, 0, 0, 35).command;\n    this.silverGradient = this.fillCommand.style;\n    this.shape.graphics.drawCircle(0, 0, INITIAL_RADIUS);\n\n    this.stage.addChild(this.shape);\n  }\n\n  move() {\n    this.updateDistance();\n    this.scaleBall();\n    this.applySpin();\n    this.applyVelocity();\n    this.applyPerspective();\n    this.adjustForRadius();\n\n    this.stage.update();\n  }\n\n  reset() {\n    this.shape.x = 400;\n    this.shape.y = 300;\n\n    this.distance = 0;\n    this.direction = \"out\";\n    this.radius = INITIAL_RADIUS;\n\n    this.xVelocity = 0;\n    this.yVelocity = 0;\n\n    this.xSpin = 5 * (Math.random() - 0.5);\n    this.ySpin = 5 * (Math.random() - 0.5);\n\n    this.rawX = 400;\n    this.rawY = 300;\n\n    this.farX = 400;\n    this.farY = 300;\n\n    this.shape.scaleX = 1;\n    this.shape.scaleY = 1;\n\n    if (this.fillCommand) {\n      this.fillCommand.style = this.silverGradient;\n    }\n  }\n\n  scaleBall() {\n    this.shape.scaleX = 1 - this.distance * 3 / (4 * this.maxDistance);\n    this.shape.scaleY = 1 - this.distance * 3 / (4 * this.maxDistance);\n\n    this.radius = 35 * this.shape.scaleX;\n  }\n\n  updateDistance() {\n    if (this.direction === \"out\"){\n      this.distance += 1;\n    } else {\n      this.distance -= 1;\n    }\n  }\n}\n\nmodule.exports = Ball;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/ball.js\n// module id = 0\n// module chunks = 0","const Ball = require('./ball.js');\nconst Paddle = require('./paddle.js');\n\nconst CENTER_X = 400;\nconst CENTER_Y = 300;\n\nconst HUMAN_COLOR = \"royalblue\";\nconst CPU_COLOR = \"#cc0000\";\n\nconst HUMAN_PADDLE_WIDTH = 120;\nconst HUMAN_PADDLE_HEIGHT = 80;\nconst CPU_PADDLE_WIDTH = 30;\nconst CPU_PADDLE_HEIGHT = 20;\n\nclass Field {\n\n  constructor(stage, game) {\n    this.stage = stage;\n    this.game = game;\n\n    this.ball = new Ball(this.stage, 60);\n    this.humanPaddle = new Paddle(HUMAN_PADDLE_WIDTH, HUMAN_PADDLE_HEIGHT, HUMAN_COLOR, \"near\", this.stage)\n    this.cpuPaddle = new Paddle(CPU_PADDLE_WIDTH, CPU_PADDLE_HEIGHT, CPU_COLOR, \"far\", this.stage)\n\n    this.maxDistance = 60;\n    this.cpuTrackingRatio = 30;\n\n    this.ticker = createjs.Ticker;\n    this.ticker.setFPS(60);\n\n    // this.audio = false;\n    //\n    // this.nearHit = new Audio('./audio/nearhit.mp3');\n    // this.farHit = new Audio('./audio/farhit.mp3');\n    // this.vWallHit = new Audio('./audio/wallhit.mp3');\n    // this.hWallHit = new Audio('./audio/wallhit0.mp3');\n    // this.goal = new Audio('./audio/goal.mp3');\n\n    this.renderField();\n    this.renderPieces();\n  }\n\n  detectWallBounce() {\n    if(this.ball.rawX >= 712 || this.ball.rawX <= 88){\n      this.ball.xVelocity = this.ball.xVelocity * -1;\n      this.ball.xSpin = 0;\n      // if (this.audio) {\n      //   this.vWallHit.load();\n      //   this.vWallHit.play();\n      // }\n    }\n\n    if(this.ball.rawY >= 509 || this.ball.rawY <= 91){\n      this.ball.yVelocity = this.ball.yVelocity * -1;\n      this.ball.ySpin = 0;\n      // if (this.audio) {\n      //   this.vWallHit.load();\n      //   this.vWallHit.play();\n      // }\n    }\n  }\n\n  detectGoalOrHit() {\n    if (this.ball.distance === this.maxDistance){\n      this.detectCpuHit();\n      this.ball.direction = \"in\";\n    } else if (this.ball.distance === 0){\n      this.detectHumanHit();\n      this.ball.direction = \"out\";\n    }\n  }\n\n  drawRectangle(shape, { x, y, w, h }) {\n    shape.graphics.beginStroke(\"gray\");\n    shape.graphics.setStrokeStyle(3);\n    shape.snapToPixel = true;\n    shape.graphics.drawRect(x, y, w, h);\n\n    this.stage.addChild(shape);\n  }\n\n  drawCorner(shape, { mtx, mty, ltx, lty }) {\n    shape.graphics.beginStroke(\"gray\");\n    shape.graphics.setStrokeStyle(4);\n    shape.snapToPixel = true;\n    shape.graphics.moveTo(mtx, mty);\n    shape.graphics.lineTo(ltx, lty);\n\n    this.stage.addChild(shape);\n  }\n\n  drawBallMarker() {\n    const ballMarker = new createjs.Shape();\n\n    ballMarker.graphics.beginStroke(\"ghostwhite\");\n    ballMarker.graphics.setStrokeStyle(3);\n    ballMarker.snapToPixel = true;\n    ballMarker.graphics.drawRect(88, 91, 624, 418);\n    ballMarker.name = 'ballMarker';\n\n    this.stage.addChild(ballMarker);\n  };\n\n  movePaddles() {\n    this.humanPaddle.move(this.ball);\n    this.cpuPaddle.move(this.ball, this.cpuTrackingRatio);\n    this.stage.update();\n  }\n\n  renderPieces() {\n    this.cpuPaddle.draw();\n    this.ball.draw();\n    this.humanPaddle.draw();\n    this.drawBallMarker();\n    this.ticker.addEventListener('tick', this.movePaddles.bind(this));\n  }\n\n  renderField() {\n    const border1 = new createjs.Shape();\n    const border2 = new createjs.Shape();\n    const border3 = new createjs.Shape();\n    const border4 = new createjs.Shape();\n    const border5 = new createjs.Shape();\n    const border6 = new createjs.Shape();\n    const border7 = new createjs.Shape();\n    const border8 = new createjs.Shape();\n    const border9 = new createjs.Shape();\n\n    this.drawRectangle(border1, { x: 88, y: 91, w: 624, h: 418 });\n    this.drawRectangle(border2, { x: 146, y: 130, w: 508, h: 340 });\n    this.drawRectangle(border3, { x: 195, y: 162, w: 410, h: 276 });\n    this.drawRectangle(border4, { x: 234, y: 190, w: 332, h: 221 });\n    this.drawRectangle(border5, { x: 263, y: 208, w: 275, h: 184 });\n    this.drawRectangle(border6, { x: 283, y: 222, w: 234, h: 157 });\n    this.drawRectangle(border7, { x: 299, y: 233, w: 202, h: 135 });\n    this.drawRectangle(border8, { x: 312, y: 240, w: 176, h: 120 });\n    this.drawRectangle(border9, { x: 322, y: 247, w: 158, h: 106 });\n\n    let cornerNW = new createjs.Shape();\n    let cornerNE = new createjs.Shape();\n    let cornerSE = new createjs.Shape();\n    let cornerSW = new createjs.Shape();\n\n    this.drawCorner(cornerNW, { mtx: 88, mty: 91, ltx: 322, lty: 247 });\n    this.drawCorner(cornerNW, { mtx: 712, mty: 91, ltx: 479, lty: 247 });\n    this.drawCorner(cornerNW, { mtx: 712, mty: 509, ltx: 479, lty: 353 });\n    this.drawCorner(cornerNW, { mtx: 88, mty: 509, ltx: 322, lty: 353 });\n\n    this.stage.update();\n  }\n\n  detectHumanHit() {\n    if (this.humanPaddle.hit(this.ball)) {\n      // if (this.audio) {\n      //   this.nearHit.load();\n      //   this.nearHit.play();\n      // }\n      this.getSpin();\n    } else {\n      this.ball.fillCommand.style = \"#cc0000\";\n      // if (this.audio) {\n      //   this.goal.load();\n      //   this.goal.play();\n      // }\n      this.ticker.removeAllEventListeners('tick');\n      this.ticker.addEventListener('tick', this.movePaddles.bind(this));\n      this.game.resetPieces('human');\n    }\n  }\n\n  getSpin() {\n    let [xSpin, ySpin] = this.humanPaddle.spinVector();\n    this.ball.xSpin += xSpin;\n    this.ball.ySpin += ySpin;\n  }\n\n  detectCpuHit() {\n    const cpuPaddle = this.stage.getChildByName('cpuPaddle');\n    if (this.cpuPaddle.hit(this.ball)) {\n      // if (this.audio) {\n      //   this.farHit.load();\n      //   this.farHit.play();\n      // }\n    } else {\n      this.ball.fillCommand.style = HUMAN_COLOR;\n      // if (this.audio) {\n      //   this.goal.load();\n      //   this.goal.play();\n      // }\n      this.ticker.removeAllEventListeners('tick');\n      this.ticker.addEventListener('tick', this.movePaddles.bind(this));\n      this.game.resetPieces('cpu');\n    }\n  }\n\n  updateBallMarker() {\n    const ballMarker = this.stage.getChildByName('ballMarker');\n\n    const markerX = 88 + this.ball.distance * (321 - 88) / this.maxDistance;\n    const markerY = 91 + this.ball.distance * (247 - 91) / this.maxDistance;\n    const markerW = 624 - this.ball.distance * (624 - 158) / this.maxDistance;\n    const markerH = 418 - this.ball.distance * (418 - 106) / this.maxDistance;\n\n    ballMarker.graphics.clear().beginStroke(\"ghostwhite\").drawRect(markerX, markerY, markerW, markerH);\n  }\n\n\n  hitBall(e = null) {\n    if (this.humanPaddle.hit(this.ball)) {\n      if (e) e.remove();\n      // if (this.audio) {\n      //   this.nearHit.load();\n      //   this.nearHit.play();\n      // }\n      this.getSpin();\n      if (this.ball.xSpin > 15) {\n        this.ball.xSpin = 15;\n      }\n      if (this.ball.xSpin < -15) {\n        this.ball.xSpin = -15;\n      }\n      if (this.ball.ySpin > 15) {\n        this.ball.ySpin = 15;\n      }\n      if (this.ball.ySpin < -15) {\n        this.ball.ySpin = -15;\n      }\n      this.ticker.addEventListener('tick', this.ballActions.bind(this));\n    }\n  }\n\n  ballActions() {\n    this.ball.move();\n    this.detectWallBounce();\n    this.detectGoalOrHit();\n    this.updateBallMarker();\n  }\n\n\n}\n\nmodule.exports = Field;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/field.js\n// module id = 1\n// module chunks = 0","import Field from './field';\nimport Ball from './ball';\n\nconst FONT = 'Coda';\n\nclass Game {\n\n  constructor() {\n    this.stage = this.stage || new createjs.Stage(\"myCanvas\");\n    this.stage.canvas.style.cursor = \"display\";\n\n    this.cpuStrikes = 2;\n    this.humanStrikes = 5;\n    this.level = 1;\n\n    this.field = new Field(this.stage, this);\n\n    this.playDemo();\n    this.handleKeydown();\n  }\n\n  playDemo() {\n    this.field.ball.xSpin = -20;\n    this.field.ball.ySpin = -30;\n    this.field.ball.maxDistance = 50;\n    this.field.maxDistance = 50;\n    this.field.hitBall();\n    this.buildInstructions();\n    this.flashInstructions();\n\n    this.startGame = this.startGame.bind(this);\n    document.addEventListener('mousedown', this.startGame);\n  }\n\n  buildInstructions() {\n    const text = new createjs.Text(\"CLICK TO START\", `20px ${FONT}`, \"#FA9F42\");\n    text.x = 330;\n    text.y = 462;\n    text.textBaseline = \"alphabetic\";\n    this.instructions = text;\n\n    this.tips = [];\n    this.tips[0] = new createjs.Text(\"\", `20px ${FONT}`, \"ghostwhite\");\n    this.tips[0].x = 200;\n    this.tips[0].y = 5;\n\n    this.tips[1] = new createjs.Text(\"CLICK TO SERVE\", `20px ${FONT}`, \"ghostwhite\");\n    this.tips[1].x = 320;\n    this.tips[1].y = 5;\n\n    this.tips[2] = new createjs.Text(\"CURVE THE BALL WITH YOUR PADDLE\", `20px ${FONT}`, \"ghostwhite\");\n    this.tips[2].x = 225;\n    this.tips[2].y = 30;\n\n    this.tips[3] = new createjs.Text(\"USE CURVE TO BEAT THE CPU!\", `20px ${FONT}`, \"ghostwhite\");\n    this.tips[3].x = 260;\n    this.tips[3].y = 55;\n\n    this.tips.forEach( (tip, index) => {\n      this.stage.addChild(tip);\n    });\n  }\n\n  flashInstructions() {\n    this.interval = setInterval( () => this.toggleChild(this.instructions), 500);\n  }\n\n  clearInstructions() {\n    clearInterval(this.interval);\n    this.removeChild(this.instructions);\n  }\n\n  removeChild(child) {\n    if (this.stage.contains(child)) {\n      this.stage.removeChild(child);\n    }\n    this.stage.update();\n  }\n\n  toggleChild(child) {\n    if (this.stage.contains(child)) {\n      this.stage.removeChild(child);\n    } else {\n      this.stage.addChild(child);\n    }\n    this.stage.update();\n  }\n\n  startGame() {\n    this.clearInstructions();\n    this.buildCpuScore();\n    this.buildHumanScore();\n    this.printLevel();\n    document.removeEventListener('mousedown', this.startGame);\n    this.field.audio = true;\n    this.field.humanPaddle.demo = false;\n    this.field.cpuPaddle.demo = false;\n    this.restart();\n  }\n\n  toggleAudio() {\n    this.field.audio = !this.field.audio;\n  }\n\n  handleKeydown() {\n    document.addEventListener('keydown', this.toggleAudio.bind(this));\n  }\n\n  buildCpuScore() {\n    const text = new createjs.Text(\"CPU\", `20px ${FONT}`, \"ghostwhite\");\n    text.x = 100;\n    text.y = 70;\n    text.textBaseline = \"alphabetic\";\n\n    this.stage.addChild(text);\n    this.buildCpuStrikes();\n\n    this.stage.update();\n  }\n\n  buildCpuStrikes() {\n    this.cpuStrikeShapes = [];\n    for (let i = 0; i < this.cpuStrikes; i++) {\n      this.cpuStrikeShapes[i] = new createjs.Shape();\n      this.cpuStrikeShapes[i].graphics.beginFill(\"#cc0000\").drawCircle((160 + i * 25), 62, 10);\n\n      this.stage.addChild(this.cpuStrikeShapes[i]);\n    }\n  }\n\n  buildHumanScore() {\n    const text = new createjs.Text(\"Player\", `20px ${FONT}`, \"ghostwhite\");\n    text.x = 650;\n    text.y = 70;\n    text.textBaseline = \"alphabetic\";\n\n    this.stage.addChild(text);\n    this.buildHumanStrikes();\n\n    this.stage.update();\n  }\n\n  buildHumanStrikes() {\n    this.humanStrikeShapes = [];\n    for (let i = 0; i < this.humanStrikes; i++) {\n      this.humanStrikeShapes[i] = new createjs.Shape();\n      this.humanStrikeShapes[i].graphics.beginFill(\"royalblue\").drawCircle((630 - i * 25), 62, 10);\n\n      this.stage.addChild(this.humanStrikeShapes[i]);\n    }\n  }\n\n  printGameOver() {\n    const frame = new createjs.Shape();\n    frame.graphics\n      .beginFill(\"black\")\n      .drawRoundRect(255, 250, 290, 100, 5);\n\n    const gameOver = new createjs.Text(`Game Over`, `42px ${FONT}`, \"#E0E0E2\");\n    gameOver.x = 290;\n    gameOver.y = 300;\n    gameOver.textBaseline = \"alphabetic\";\n\n    const spaceText = new createjs.Text(`Click to restart`, `22px ${FONT}`, \"ghostwhite\");\n    spaceText.x = 330;\n    spaceText.y = 330;\n    spaceText.textBaseline = \"alphabetic\";\n\n    this.stage.addChild(frame);\n    this.stage.addChild(gameOver);\n    this.stage.addChild(spaceText);\n\n    this.stage.update();\n\n    this.stage.on('mousedown', this.restart.bind(this));\n  }\n\n  printLevel() {\n    const frame = new createjs.Shape();\n    frame.graphics\n      .beginFill(\"black\")\n      .drawRoundRect(298, 530, 200, 45, 5);\n\n    const text = new createjs.Text(`Level ${this.level}`, `40px ${FONT}`, \"#FA9F42\");\n    text.x = 340;\n    text.y = 565;\n    text.textBaseline = \"alphabetic\";\n    text.name = \"level\";\n\n    this.stage.addChild(frame);\n    this.stage.addChild(text);\n\n    this.stage.update();\n  }\n\n  resetPieces(loser) {\n    if(loser === 'cpu') {\n      this.updateCpuStrikes();\n    } else {\n      this.updateHumanStrikes();\n    }\n  }\n\n  restart() {\n    this.stage.removeAllEventListeners();\n    this.field.ticker.removeAllEventListeners();\n    this.stage.removeAllChildren();\n\n    this.cpuStrikes = 2;\n    this.humanStrikes = 5;\n    this.level = 1;\n\n    let audio = this.field.audio;\n\n    this.field = new Field(this.stage, this);\n    this.field.humanPaddle.demo = false;\n    this.field.cpuPaddle.demo = false;\n    this.stage.canvas.style.cursor = \"none\";\n    this.field.audio = audio;\n\n    this.buildCpuScore();\n    this.buildHumanScore();\n    this.printLevel();\n    this.setStage();\n  }\n\n  setStage() {\n    const ballMarker = this.stage.getChildByName('ballMarker');\n\n    this.field.ball.reset();\n    ballMarker.graphics.clear().beginStroke(\"#444\").drawRect(88, 91, 624, 418);\n    this.stage.on('stagemousedown', this.field.hitBall.bind(this.field));\n  }\n\n  updateCpuStrikes() {\n    if(this.cpuStrikes > 0){\n      this.cpuStrikeShapes[this.cpuStrikes - 1].graphics.clear();\n      this.cpuStrikes -= 1;\n    } else {\n      const level = this.stage.getChildByName('level');\n      this.level += 1;\n      level.text = `Level ${this.level}`\n      this.field.cpuTrackingRatio = this.field.cpuTrackingRatio / 1.4 ;\n      this.cpuStrikes = 2;\n      setTimeout( () => {\n        this.field.ball.maxDistance = Math.floor(this.field.ball.maxDistance * 0.95);\n        this.field.maxDistance = this.field.ball.maxDistance;\n      }, 1000);\n      setTimeout(this.buildCpuStrikes.bind(this), 1000);\n    }\n    setTimeout(this.setStage.bind(this), 1000);\n  }\n\n  updateHumanStrikes() {\n    if(this.humanStrikes > 0){\n      this.humanStrikeShapes[this.humanStrikes - 1].graphics.clear();\n      this.humanStrikes -= 1;\n      setTimeout(this.setStage.bind(this), 1000);\n    } else {\n      setTimeout(this.printGameOver.bind(this), 1000);\n    }\n  }\n}\n\nconst init = () => {\n  const game = new Game;\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", init)\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/game.js\n// module id = 2\n// module chunks = 0","class Paddle {\n\n  constructor(width, height, color, type, stage) {\n    this.width = width;\n    this.height = height;\n    this.color = color;\n    this.type = type;\n    this.stage = stage;\n    this.demo = true;\n\n    this.shape = new createjs.Shape();\n  }\n\n  center() {\n    this.shape.x -= this.width / 2;\n    this.shape.y -= this.height / 2;\n  }\n\n  draw() {\n    let borderRadius;\n    let strokeStyle;\n    if (this.type === 'near') {\n      borderRadius = 10;\n      strokeStyle = 4;\n    } else {\n      borderRadius = 3;\n      strokeStyle = 2;\n    }\n\n    this.shape.graphics\n      .beginStroke(this.color)\n      .setStrokeStyle(strokeStyle)\n      .beginFill(this.color)\n      .drawRoundRect(0, 0, this.width, this.height, borderRadius);\n    this.shape.alpha = 0.5;\n    this.prevX = 400;\n    this.prevY = 300;\n    this.shape.x = 400;\n    this.shape.y = 300;\n\n    this.stage.addChild(this.shape);\n  }\n\n  enforceBounds(bounds) {\n    if (this.shape.x + this.width > bounds.right){\n      this.shape.x = bounds.right - this.width;\n    } else if (this.shape.x < bounds.left){\n      this.shape.x = bounds.left;\n    }\n\n    if (this.shape.y + this.height > bounds.bottom){\n      this.shape.y = bounds.bottom - this.height;\n    } else if (this.shape.y < bounds.top){\n      this.shape.y = bounds.top;\n    }\n  }\n\n  hit(ball) {\n    if (ball.shape.x - ball.radius <= this.shape.x + this.width\n        && ball.shape.x + ball.radius >= this.shape.x\n        && ball.shape.y - ball.radius <= this.shape.y + this.height\n        && ball.shape.y + ball.radius >= this.shape.y) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  move(ball, trackingRatio = null) {\n    if (this.type === 'near') {\n      this.demo ? this.moveDemoPaddle(ball) : this.moveNearPaddle();\n    } else {\n      this.demo ? this.moveFarPaddle(ball, -4) : this.moveFarPaddle(ball, trackingRatio);\n    }\n  }\n\n  moveDemoPaddle(ball) {\n    this.prevX = this.shape.x;\n    this.prevY = this.shape.y;\n\n    this.shape.x = ball.shape.x;\n    this.shape.y = ball.shape.y;\n\n    this.center();\n    this.enforceBounds({top: 91, right: 712, bottom: 509, left: 88});\n  }\n\n  moveNearPaddle() {\n    this.prevX = this.shape.x;\n    this.prevY = this.shape.y;\n\n    this.shape.x = this.stage.mouseX;\n    this.shape.y = this.stage.mouseY;\n\n    this.center();\n    this.enforceBounds({top: 91, right: 712, bottom: 509, left: 88});\n  }\n\n  moveFarPaddle(ball, trackingRatio) {\n    const difX = ball.farX - this.shape.x - this.width / 2;\n    const difY = ball.farY - this.shape.y - this.height / 2;\n\n    this.shape.x += difX / (5 + trackingRatio);\n    this.shape.y += difY / (5 + trackingRatio);\n\n    this.enforceBounds({top: 247, right: 480, bottom: 353, left: 322});\n  }\n\n  spinVector() {\n    const xSpin = this.shape.x - this.prevX;\n    const ySpin = this.shape.y - this.prevY;\n\n    return [xSpin, ySpin];\n  }\n\n}\n\nmodule.exports = Paddle;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/paddle.js\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}